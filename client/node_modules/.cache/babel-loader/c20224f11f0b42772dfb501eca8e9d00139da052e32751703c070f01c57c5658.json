{"ast":null,"code":"export const channelReducer = (state, action) => {\n  switch (action.type) {\n    case 'closeThread':\n      {\n        return {\n          ...state,\n          thread: null,\n          threadLoadingMore: false,\n          threadMessages: []\n        };\n      }\n    case 'copyMessagesFromChannel':\n      {\n        const {\n          channel,\n          parentId\n        } = action;\n        return {\n          ...state,\n          messages: [...channel.state.messages],\n          pinnedMessages: [...channel.state.pinnedMessages],\n          // copying messages from channel happens with new message - this resets the suppressAutoscroll\n          suppressAutoscroll: false,\n          threadMessages: parentId ? {\n            ...channel.state.threads\n          }[parentId] || [] : state.threadMessages\n        };\n      }\n    case 'copyStateFromChannelOnEvent':\n      {\n        const {\n          channel\n        } = action;\n        return {\n          ...state,\n          members: {\n            ...channel.state.members\n          },\n          messages: [...channel.state.messages],\n          pinnedMessages: [...channel.state.pinnedMessages],\n          read: {\n            ...channel.state.read\n          },\n          watcherCount: channel.state.watcher_count,\n          watchers: {\n            ...channel.state.watchers\n          }\n        };\n      }\n    case 'initStateFromChannel':\n      {\n        const {\n          channel,\n          hasMore\n        } = action;\n        return {\n          ...state,\n          hasMore,\n          loading: false,\n          members: {\n            ...channel.state.members\n          },\n          messages: [...channel.state.messages],\n          pinnedMessages: [...channel.state.pinnedMessages],\n          read: {\n            ...channel.state.read\n          },\n          watcherCount: channel.state.watcher_count,\n          watchers: {\n            ...channel.state.watchers\n          }\n        };\n      }\n    case 'jumpToLatestMessage':\n      {\n        return {\n          ...state,\n          hasMoreNewer: false,\n          highlightedMessageId: undefined,\n          loading: false,\n          suppressAutoscroll: false\n        };\n      }\n    case 'jumpToMessageFinished':\n      {\n        return {\n          ...state,\n          hasMoreNewer: action.hasMoreNewer,\n          highlightedMessageId: action.highlightedMessageId\n        };\n      }\n    case 'clearHighlightedMessage':\n      {\n        return {\n          ...state,\n          highlightedMessageId: undefined\n        };\n      }\n    case 'loadMoreFinished':\n      {\n        const {\n          hasMore,\n          messages\n        } = action;\n        return {\n          ...state,\n          hasMore,\n          loadingMore: false,\n          messages,\n          suppressAutoscroll: false\n        };\n      }\n    case 'loadMoreNewerFinished':\n      {\n        const {\n          hasMoreNewer,\n          messages\n        } = action;\n        return {\n          ...state,\n          hasMoreNewer,\n          loadingMoreNewer: false,\n          messages\n        };\n      }\n    case 'loadMoreThreadFinished':\n      {\n        const {\n          threadHasMore,\n          threadMessages\n        } = action;\n        return {\n          ...state,\n          threadHasMore,\n          threadLoadingMore: false,\n          threadMessages\n        };\n      }\n    case 'openThread':\n      {\n        const {\n          channel,\n          message\n        } = action;\n        return {\n          ...state,\n          thread: message,\n          threadHasMore: true,\n          threadMessages: message.id ? {\n            ...channel.state.threads\n          }[message.id] || [] : [],\n          threadSuppressAutoscroll: false\n        };\n      }\n    case 'setError':\n      {\n        const {\n          error\n        } = action;\n        return {\n          ...state,\n          error\n        };\n      }\n    case 'setLoadingMore':\n      {\n        const {\n          loadingMore\n        } = action;\n        // suppress the autoscroll behavior\n        return {\n          ...state,\n          loadingMore,\n          suppressAutoscroll: loadingMore\n        };\n      }\n    case 'setLoadingMoreNewer':\n      {\n        const {\n          loadingMoreNewer\n        } = action;\n        return {\n          ...state,\n          loadingMoreNewer\n        };\n      }\n    case 'setThread':\n      {\n        const {\n          message\n        } = action;\n        return {\n          ...state,\n          thread: message\n        };\n      }\n    case 'setTyping':\n      {\n        const {\n          channel\n        } = action;\n        return {\n          ...state,\n          typing: {\n            ...channel.state.typing\n          }\n        };\n      }\n    case 'startLoadingThread':\n      {\n        return {\n          ...state,\n          threadLoadingMore: true,\n          threadSuppressAutoscroll: true\n        };\n      }\n    case 'updateThreadOnEvent':\n      {\n        const {\n          channel,\n          message\n        } = action;\n        if (!state.thread) return state;\n        return {\n          ...state,\n          thread: message?.id === state.thread.id ? channel.state.formatMessage(message) : state.thread,\n          threadMessages: state.thread?.id ? {\n            ...channel.state.threads\n          }[state.thread.id] || [] : []\n        };\n      }\n    default:\n      return state;\n  }\n};\nexport const initialState = {\n  error: null,\n  hasMore: true,\n  hasMoreNewer: false,\n  loading: true,\n  loadingMore: false,\n  members: {},\n  messages: [],\n  pinnedMessages: [],\n  read: {},\n  suppressAutoscroll: false,\n  thread: null,\n  threadHasMore: true,\n  threadLoadingMore: false,\n  threadMessages: [],\n  threadSuppressAutoscroll: false,\n  typing: {},\n  watcherCount: 0,\n  watchers: {}\n};","map":{"version":3,"names":["channelReducer","state","action","type","thread","threadLoadingMore","threadMessages","channel","parentId","messages","pinnedMessages","suppressAutoscroll","threads","members","read","watcherCount","watcher_count","watchers","hasMore","loading","hasMoreNewer","highlightedMessageId","undefined","loadingMore","loadingMoreNewer","threadHasMore","message","id","threadSuppressAutoscroll","error","typing","formatMessage","initialState"],"sources":["C:/Users/abdel/OneDrive/Desktop/Medical-plager/client/node_modules/stream-chat-react/dist/components/Channel/channelState.js"],"sourcesContent":["export const channelReducer = (state, action) => {\n    switch (action.type) {\n        case 'closeThread': {\n            return {\n                ...state,\n                thread: null,\n                threadLoadingMore: false,\n                threadMessages: [],\n            };\n        }\n        case 'copyMessagesFromChannel': {\n            const { channel, parentId } = action;\n            return {\n                ...state,\n                messages: [...channel.state.messages],\n                pinnedMessages: [...channel.state.pinnedMessages],\n                // copying messages from channel happens with new message - this resets the suppressAutoscroll\n                suppressAutoscroll: false,\n                threadMessages: parentId\n                    ? { ...channel.state.threads }[parentId] || []\n                    : state.threadMessages,\n            };\n        }\n        case 'copyStateFromChannelOnEvent': {\n            const { channel } = action;\n            return {\n                ...state,\n                members: { ...channel.state.members },\n                messages: [...channel.state.messages],\n                pinnedMessages: [...channel.state.pinnedMessages],\n                read: { ...channel.state.read },\n                watcherCount: channel.state.watcher_count,\n                watchers: { ...channel.state.watchers },\n            };\n        }\n        case 'initStateFromChannel': {\n            const { channel, hasMore } = action;\n            return {\n                ...state,\n                hasMore,\n                loading: false,\n                members: { ...channel.state.members },\n                messages: [...channel.state.messages],\n                pinnedMessages: [...channel.state.pinnedMessages],\n                read: { ...channel.state.read },\n                watcherCount: channel.state.watcher_count,\n                watchers: { ...channel.state.watchers },\n            };\n        }\n        case 'jumpToLatestMessage': {\n            return {\n                ...state,\n                hasMoreNewer: false,\n                highlightedMessageId: undefined,\n                loading: false,\n                suppressAutoscroll: false,\n            };\n        }\n        case 'jumpToMessageFinished': {\n            return {\n                ...state,\n                hasMoreNewer: action.hasMoreNewer,\n                highlightedMessageId: action.highlightedMessageId,\n            };\n        }\n        case 'clearHighlightedMessage': {\n            return {\n                ...state,\n                highlightedMessageId: undefined,\n            };\n        }\n        case 'loadMoreFinished': {\n            const { hasMore, messages } = action;\n            return {\n                ...state,\n                hasMore,\n                loadingMore: false,\n                messages,\n                suppressAutoscroll: false,\n            };\n        }\n        case 'loadMoreNewerFinished': {\n            const { hasMoreNewer, messages } = action;\n            return {\n                ...state,\n                hasMoreNewer,\n                loadingMoreNewer: false,\n                messages,\n            };\n        }\n        case 'loadMoreThreadFinished': {\n            const { threadHasMore, threadMessages } = action;\n            return {\n                ...state,\n                threadHasMore,\n                threadLoadingMore: false,\n                threadMessages,\n            };\n        }\n        case 'openThread': {\n            const { channel, message } = action;\n            return {\n                ...state,\n                thread: message,\n                threadHasMore: true,\n                threadMessages: message.id ? { ...channel.state.threads }[message.id] || [] : [],\n                threadSuppressAutoscroll: false,\n            };\n        }\n        case 'setError': {\n            const { error } = action;\n            return { ...state, error };\n        }\n        case 'setLoadingMore': {\n            const { loadingMore } = action;\n            // suppress the autoscroll behavior\n            return { ...state, loadingMore, suppressAutoscroll: loadingMore };\n        }\n        case 'setLoadingMoreNewer': {\n            const { loadingMoreNewer } = action;\n            return { ...state, loadingMoreNewer };\n        }\n        case 'setThread': {\n            const { message } = action;\n            return { ...state, thread: message };\n        }\n        case 'setTyping': {\n            const { channel } = action;\n            return {\n                ...state,\n                typing: { ...channel.state.typing },\n            };\n        }\n        case 'startLoadingThread': {\n            return {\n                ...state,\n                threadLoadingMore: true,\n                threadSuppressAutoscroll: true,\n            };\n        }\n        case 'updateThreadOnEvent': {\n            const { channel, message } = action;\n            if (!state.thread)\n                return state;\n            return {\n                ...state,\n                thread: message?.id === state.thread.id ? channel.state.formatMessage(message) : state.thread,\n                threadMessages: state.thread?.id ? { ...channel.state.threads }[state.thread.id] || [] : [],\n            };\n        }\n        default:\n            return state;\n    }\n};\nexport const initialState = {\n    error: null,\n    hasMore: true,\n    hasMoreNewer: false,\n    loading: true,\n    loadingMore: false,\n    members: {},\n    messages: [],\n    pinnedMessages: [],\n    read: {},\n    suppressAutoscroll: false,\n    thread: null,\n    threadHasMore: true,\n    threadLoadingMore: false,\n    threadMessages: [],\n    threadSuppressAutoscroll: false,\n    typing: {},\n    watcherCount: 0,\n    watchers: {},\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}