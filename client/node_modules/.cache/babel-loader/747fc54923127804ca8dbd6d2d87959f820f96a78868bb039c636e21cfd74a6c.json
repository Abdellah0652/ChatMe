{"ast":null,"code":"import { useEffect, useRef, useState } from 'react';\nexport const useScrollToBottomOnNewMessage = ({\n  messages,\n  scrollToBottom,\n  scrollToLatestMessageOnFocus\n}) => {\n  const [newMessagesReceivedInBackground, setNewMessagesReceivedInBackground] = useState(false);\n  const scrollToBottomIfConfigured = useRef();\n  scrollToBottomIfConfigured.current = event => {\n    if (!scrollToLatestMessageOnFocus || !newMessagesReceivedInBackground || event.target !== window) {\n      return;\n    }\n    setTimeout(scrollToBottom, 100);\n  };\n  useEffect(() => {\n    setNewMessagesReceivedInBackground(true);\n  }, [messages]);\n  useEffect(() => {\n    const handleFocus = event => {\n      scrollToBottomIfConfigured.current?.(event);\n    };\n    const handleBlur = () => {\n      setNewMessagesReceivedInBackground(false);\n    };\n    if (typeof window !== 'undefined') {\n      window.addEventListener('focus', handleFocus);\n      window.addEventListener('blur', handleBlur);\n    }\n    return () => {\n      window.removeEventListener('focus', handleFocus);\n      window.removeEventListener('blur', handleBlur);\n    };\n  }, []);\n};","map":{"version":3,"names":["useEffect","useRef","useState","useScrollToBottomOnNewMessage","messages","scrollToBottom","scrollToLatestMessageOnFocus","newMessagesReceivedInBackground","setNewMessagesReceivedInBackground","scrollToBottomIfConfigured","current","event","target","window","setTimeout","handleFocus","handleBlur","addEventListener","removeEventListener"],"sources":["C:/Users/abdel/OneDrive/Desktop/Medical-plager/client/node_modules/stream-chat-react/dist/components/MessageList/hooks/VirtualizedMessageList/useScrollToBottomOnNewMessage.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nexport const useScrollToBottomOnNewMessage = ({ messages, scrollToBottom, scrollToLatestMessageOnFocus, }) => {\n    const [newMessagesReceivedInBackground, setNewMessagesReceivedInBackground] = useState(false);\n    const scrollToBottomIfConfigured = useRef();\n    scrollToBottomIfConfigured.current = (event) => {\n        if (!scrollToLatestMessageOnFocus ||\n            !newMessagesReceivedInBackground ||\n            event.target !== window) {\n            return;\n        }\n        setTimeout(scrollToBottom, 100);\n    };\n    useEffect(() => {\n        setNewMessagesReceivedInBackground(true);\n    }, [messages]);\n    useEffect(() => {\n        const handleFocus = (event) => {\n            scrollToBottomIfConfigured.current?.(event);\n        };\n        const handleBlur = () => {\n            setNewMessagesReceivedInBackground(false);\n        };\n        if (typeof window !== 'undefined') {\n            window.addEventListener('focus', handleFocus);\n            window.addEventListener('blur', handleBlur);\n        }\n        return () => {\n            window.removeEventListener('focus', handleFocus);\n            window.removeEventListener('blur', handleBlur);\n        };\n    }, []);\n};\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACnD,OAAO,MAAMC,6BAA6B,GAAGA,CAAC;EAAEC,QAAQ;EAAEC,cAAc;EAAEC;AAA8B,CAAC,KAAK;EAC1G,MAAM,CAACC,+BAA+B,EAAEC,kCAAkC,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EAC7F,MAAMO,0BAA0B,GAAGR,MAAM,CAAC,CAAC;EAC3CQ,0BAA0B,CAACC,OAAO,GAAIC,KAAK,IAAK;IAC5C,IAAI,CAACL,4BAA4B,IAC7B,CAACC,+BAA+B,IAChCI,KAAK,CAACC,MAAM,KAAKC,MAAM,EAAE;MACzB;IACJ;IACAC,UAAU,CAACT,cAAc,EAAE,GAAG,CAAC;EACnC,CAAC;EACDL,SAAS,CAAC,MAAM;IACZQ,kCAAkC,CAAC,IAAI,CAAC;EAC5C,CAAC,EAAE,CAACJ,QAAQ,CAAC,CAAC;EACdJ,SAAS,CAAC,MAAM;IACZ,MAAMe,WAAW,GAAIJ,KAAK,IAAK;MAC3BF,0BAA0B,CAACC,OAAO,GAAGC,KAAK,CAAC;IAC/C,CAAC;IACD,MAAMK,UAAU,GAAGA,CAAA,KAAM;MACrBR,kCAAkC,CAAC,KAAK,CAAC;IAC7C,CAAC;IACD,IAAI,OAAOK,MAAM,KAAK,WAAW,EAAE;MAC/BA,MAAM,CAACI,gBAAgB,CAAC,OAAO,EAAEF,WAAW,CAAC;MAC7CF,MAAM,CAACI,gBAAgB,CAAC,MAAM,EAAED,UAAU,CAAC;IAC/C;IACA,OAAO,MAAM;MACTH,MAAM,CAACK,mBAAmB,CAAC,OAAO,EAAEH,WAAW,CAAC;MAChDF,MAAM,CAACK,mBAAmB,CAAC,MAAM,EAAEF,UAAU,CAAC;IAClD,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;AACV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}