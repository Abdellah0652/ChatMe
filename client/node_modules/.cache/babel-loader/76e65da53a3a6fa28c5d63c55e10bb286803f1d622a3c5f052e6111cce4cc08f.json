{"ast":null,"code":"import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { MenuIcon as DefaultMenuIcon, SearchIcon as DefaultSearchInputIcon, ReturnIcon, XIcon } from './icons';\nimport { SearchInput as DefaultSearchInput } from './SearchInput';\nconst SearchBarButton = ({\n  children,\n  className,\n  onClick\n}) => React.createElement(\"button\", {\n  className: clsx('str-chat__channel-search-bar-button', className),\n  \"data-testid\": 'search-bar-button',\n  onClick: onClick\n}, children);\n// todo: add context menu control logic\nexport const SearchBar = props => {\n  const {\n    activateSearch,\n    AppMenu,\n    ClearInputIcon = XIcon,\n    exitSearch,\n    ExitSearchIcon = ReturnIcon,\n    inputIsFocused,\n    MenuIcon = DefaultMenuIcon,\n    searchBarRef,\n    SearchInput = DefaultSearchInput,\n    SearchInputIcon = DefaultSearchInputIcon,\n    ...inputProps\n  } = props;\n  const [menuIsOpen, setMenuIsOpen] = useState(false);\n  const appMenuRef = useRef(null);\n  useEffect(() => {\n    if (!appMenuRef.current) return;\n    const handleKeyDown = event => {\n      if (menuIsOpen && event.key === 'Escape') {\n        setMenuIsOpen(false);\n      }\n    };\n    const clickListener = e => {\n      if (!(e.target instanceof HTMLElement) || !menuIsOpen || appMenuRef.current?.contains(e.target)) return;\n      setMenuIsOpen(false);\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    document.addEventListener('click', clickListener);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.removeEventListener('click', clickListener);\n    };\n  }, [menuIsOpen]);\n  useEffect(() => {\n    if (!props.inputRef.current) return;\n    const handleFocus = () => {\n      activateSearch();\n    };\n    const handleBlur = e => {\n      e.stopPropagation(); // handle blur/focus state with React state\n    };\n    props.inputRef.current.addEventListener('focus', handleFocus);\n    props.inputRef.current.addEventListener('blur', handleBlur);\n    return () => {\n      props.inputRef.current?.removeEventListener('focus', handleFocus);\n      props.inputRef.current?.addEventListener('blur', handleBlur);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const handleClearClick = useCallback(() => {\n    exitSearch();\n    inputProps.inputRef.current?.focus();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const closeAppMenu = useCallback(() => setMenuIsOpen(false), []);\n  return React.createElement(\"div\", {\n    className: 'str-chat__channel-search-bar',\n    \"data-testid\": 'search-bar',\n    ref: searchBarRef\n  }, inputIsFocused ? React.createElement(SearchBarButton, {\n    className: 'str-chat__channel-search-bar-button--exit-search',\n    onClick: exitSearch\n  }, React.createElement(ExitSearchIcon, null)) : AppMenu ? React.createElement(SearchBarButton, {\n    className: 'str-chat__channel-search-bar-button--menu',\n    onClick: () => setMenuIsOpen(prev => !prev)\n  }, React.createElement(MenuIcon, null)) : null, React.createElement(\"div\", {\n    className: clsx('str-chat__channel-search-input--wrapper', inputProps.query && 'str-chat__channel-search-input--wrapper-active')\n  }, React.createElement(\"div\", {\n    className: 'str-chat__channel-search-input--icon'\n  }, React.createElement(SearchInputIcon, null)), React.createElement(SearchInput, {\n    ...inputProps\n  }), React.createElement(\"button\", {\n    className: 'str-chat__channel-search-input--clear-button',\n    \"data-testid\": 'clear-input-button',\n    disabled: !inputProps.query,\n    onClick: handleClearClick\n  }, React.createElement(ClearInputIcon, null))), menuIsOpen && AppMenu && React.createElement(\"div\", {\n    ref: appMenuRef\n  }, React.createElement(AppMenu, {\n    close: closeAppMenu\n  })));\n};","map":{"version":3,"names":["React","useCallback","useEffect","useRef","useState","clsx","MenuIcon","DefaultMenuIcon","SearchIcon","DefaultSearchInputIcon","ReturnIcon","XIcon","SearchInput","DefaultSearchInput","SearchBarButton","children","className","onClick","createElement","SearchBar","props","activateSearch","AppMenu","ClearInputIcon","exitSearch","ExitSearchIcon","inputIsFocused","searchBarRef","SearchInputIcon","inputProps","menuIsOpen","setMenuIsOpen","appMenuRef","current","handleKeyDown","event","key","clickListener","e","target","HTMLElement","contains","document","addEventListener","removeEventListener","inputRef","handleFocus","handleBlur","stopPropagation","handleClearClick","focus","closeAppMenu","ref","prev","query","disabled","close"],"sources":["C:/Users/abdel/OneDrive/Desktop/Medical-plager/client/node_modules/stream-chat-react/dist/components/ChannelSearch/SearchBar.js"],"sourcesContent":["import React, { useCallback, useEffect, useRef, useState, } from 'react';\nimport clsx from 'clsx';\nimport { MenuIcon as DefaultMenuIcon, SearchIcon as DefaultSearchInputIcon, ReturnIcon, XIcon, } from './icons';\nimport { SearchInput as DefaultSearchInput } from './SearchInput';\nconst SearchBarButton = ({ children, className, onClick, }) => (React.createElement(\"button\", { className: clsx('str-chat__channel-search-bar-button', className), \"data-testid\": 'search-bar-button', onClick: onClick }, children));\n// todo: add context menu control logic\nexport const SearchBar = (props) => {\n    const { activateSearch, AppMenu, ClearInputIcon = XIcon, exitSearch, ExitSearchIcon = ReturnIcon, inputIsFocused, MenuIcon = DefaultMenuIcon, searchBarRef, SearchInput = DefaultSearchInput, SearchInputIcon = DefaultSearchInputIcon, ...inputProps } = props;\n    const [menuIsOpen, setMenuIsOpen] = useState(false);\n    const appMenuRef = useRef(null);\n    useEffect(() => {\n        if (!appMenuRef.current)\n            return;\n        const handleKeyDown = (event) => {\n            if (menuIsOpen && event.key === 'Escape') {\n                setMenuIsOpen(false);\n            }\n        };\n        const clickListener = (e) => {\n            if (!(e.target instanceof HTMLElement) ||\n                !menuIsOpen ||\n                appMenuRef.current?.contains(e.target))\n                return;\n            setMenuIsOpen(false);\n        };\n        document.addEventListener('keydown', handleKeyDown);\n        document.addEventListener('click', clickListener);\n        return () => {\n            document.removeEventListener('keydown', handleKeyDown);\n            document.removeEventListener('click', clickListener);\n        };\n    }, [menuIsOpen]);\n    useEffect(() => {\n        if (!props.inputRef.current)\n            return;\n        const handleFocus = () => {\n            activateSearch();\n        };\n        const handleBlur = (e) => {\n            e.stopPropagation(); // handle blur/focus state with React state\n        };\n        props.inputRef.current.addEventListener('focus', handleFocus);\n        props.inputRef.current.addEventListener('blur', handleBlur);\n        return () => {\n            props.inputRef.current?.removeEventListener('focus', handleFocus);\n            props.inputRef.current?.addEventListener('blur', handleBlur);\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    const handleClearClick = useCallback(() => {\n        exitSearch();\n        inputProps.inputRef.current?.focus();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    const closeAppMenu = useCallback(() => setMenuIsOpen(false), []);\n    return (React.createElement(\"div\", { className: 'str-chat__channel-search-bar', \"data-testid\": 'search-bar', ref: searchBarRef },\n        inputIsFocused ? (React.createElement(SearchBarButton, { className: 'str-chat__channel-search-bar-button--exit-search', onClick: exitSearch },\n            React.createElement(ExitSearchIcon, null))) : AppMenu ? (React.createElement(SearchBarButton, { className: 'str-chat__channel-search-bar-button--menu', onClick: () => setMenuIsOpen((prev) => !prev) },\n            React.createElement(MenuIcon, null))) : null,\n        React.createElement(\"div\", { className: clsx('str-chat__channel-search-input--wrapper', inputProps.query && 'str-chat__channel-search-input--wrapper-active') },\n            React.createElement(\"div\", { className: 'str-chat__channel-search-input--icon' },\n                React.createElement(SearchInputIcon, null)),\n            React.createElement(SearchInput, { ...inputProps }),\n            React.createElement(\"button\", { className: 'str-chat__channel-search-input--clear-button', \"data-testid\": 'clear-input-button', disabled: !inputProps.query, onClick: handleClearClick },\n                React.createElement(ClearInputIcon, null))),\n        menuIsOpen && AppMenu && (React.createElement(\"div\", { ref: appMenuRef },\n            React.createElement(AppMenu, { close: closeAppMenu })))));\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}